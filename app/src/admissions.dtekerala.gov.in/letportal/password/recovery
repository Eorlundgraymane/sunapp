<!DOCTYPE html>
<html>
    <head>
        <title>Directorate Of Technical Education, Govt of Kerala. </title>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="" />
        <meta name="author" content="DTE Kerala" />
        <script type="text/javascript" src="/letportal/bundles/app/js/jquery.min.js?v16"></script>
        <script type="text/javascript" src="/letportal/bundles/app/js/jquery.cookie.js?v16"  ></script>
        <script type="text/javascript">

        $(function() {
            var CACHE_COOKIE = 'rufc';
            var __cv =  $.cookie(CACHE_COOKIE);
            console.log(__cv);
            if (__cv == "true") {
                $(".content").html("Page Expired");
                // window.location.reload();
                console.log('reloaded');
            }
            $.cookie(CACHE_COOKIE, 'true', { path: '/' });
        });
        </script>
        <link href="/letportal/bundles/app/adminlte/css/bootstrap.min.css?v16" rel="stylesheet">
        <link href="/letportal/bundles/app/adminlte/css/AdminLTE.css?v16" rel="stylesheet">
        <link href="/letportal/bundles/app/adminlte/css/font-awesome.min.css?v16" rel="stylesheet" type="text/css">
        <link href="/letportal/bundles/app/admin/css/custom.css?v16" rel="stylesheet" type="text/css">
        <link rel="stylesheet" type="text/css" href="/letportal/bundles/app/css/jquery-bootstrap-datepicker.css?v16" />
                        <style>
            .alert {
                margin-right: 1%;
                margin-top: 1%;
            }
            .header_content {
                padding-left: 10px;
            }
            .header_content h3{
                margin-top: 10px;
            }
            .header_links li {
                width: 75px;
                margin-top: 13%;
            }
            .link_img {
                text-align: center;
            }
            .link_name {
                text-align: center;
            }
            .voffset1  { margin-top: 2%; }
            .voffset2 { margin-top: 4%; }
            .voffset3 { margin-top: 6%; }
            .voffset4 { margin-top: 8%; }
            .voffset5 { margin-top: 10%; }
            .voffset6 { margin-top: 12%; }
            .voffset7 { margin-top: 14%; }
            .voffset8 { margin-top: 16%; }
            .voffset9 { margin-top: 18%; }
            .voffset10 { margin-top: 20%; }
        </style>

        <link rel="icon" type="image/x-icon" href="/letportal/bundles/app/img/dte.png?v16" />
    </head>
    <body >
                    <!-- Navigation -->
            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <img class='govt_emblem pull-left' src="/letportal/bundles/app/images/govt_of_kerala.png?v16" width="120" alt="Directorate of Technical Education, Government of Kerala" />
                        <div class="header_content pull-right">
                            <h3>Directorate of Technical Education</h3>
                            <h4>Government of Kerala</h4>
                        </div>


                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse " id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-right">
                            <li >
                                <a href="/letportal/index">
                                    <i class="fa fa-home fa-2x"></i>
                                    <p> Home</p>
                                </a>
                            </li>
                                                            <li>
                                    <a href="/letportal/login">
                                        <i class="glyphicon glyphicon-log-in fa-2x"></i>
                                        <p>Login</p>
                                    </a>
                                </li>
                                                    </ul>
                    </div><!-- /.navbar-collapse -->
                </div><!-- /.container-fluid -->
            </nav>


        
                
    <div id="divtransperent"></div>
    <div class="container">
        <div class="bs-docs-section">
            <div class="row">              
                <div class="bs-component">
                    <div class="col-md-9" style="margin-left: 12%; margin-right: 12%;">
                        <!-- general form elements -->
                        <div class="box box-primary">
                            <div class="box-header">
                                <h3 class="box-title">Reset password</h3>

                            </div><!-- /.box-header -->
                            <div class="alert alert-danger"><h2>Please fill-in the same data as it is, that has been entered during your registration process</h2></div>
                            <!-- form start -->
                            <div class="box-body">
                                <form name="letapplicationPasswordRecovery" class="" role="form" action="/letportal/password/recovery" id="letapplicationPasswordRecovery" method="POST">
                                    <div class="form-group col-sm-6"><div class="form-group">    <label class="control-label" for="letapplicationPasswordRecovery_userName">Registration no / User name received during registration:</label><input type="text" id="letapplicationPasswordRecovery_userName" name="letapplicationPasswordRecovery[userName]"    class="form-control" /></div></div>
                                    <div class="form-group col-sm-6"><div class="form-group">    <i style="color: #f56954;" class="fa fa-star-o"></i><label class="control-label required" for="letapplicationPasswordRecovery_displayName">Your Name:</label><input type="text" id="letapplicationPasswordRecovery_displayName" name="letapplicationPasswordRecovery[displayName]" required="required"    class="vd_name_required form-control" /></div></div>
                                    <div class="form-group col-sm-6"><div class="form-group">    <i style="color: #f56954;" class="fa fa-star-o"></i><label class="control-label required" for="letapplicationPasswordRecovery_dob">Date of Birth : </label><input type="text" id="letapplicationPasswordRecovery_dob" name="letapplicationPasswordRecovery[dob]" required="required" maxlength="10"    class="vd_date_required form-control" maxlength="10" /></div></div>
                                    <div class="form-group col-sm-6"> <div class="form-group">    <i style="color: #f56954;" class="fa fa-star-o"></i><label class="control-label required" for="letapplicationPasswordRecovery_email">Email : </label><input type="email" id="letapplicationPasswordRecovery_email" name="letapplicationPasswordRecovery[email]" required="required"    class="vd_email_required form-control" /></div></div>
                                    <div class="form-group col-sm-6"><div class="form-group">    <i style="color: #f56954;" class="fa fa-star-o"></i><label class="control-label required" for="letapplicationPasswordRecovery_mobileNumber">Mobile Number :</label><input type="text" id="letapplicationPasswordRecovery_mobileNumber" name="letapplicationPasswordRecovery[mobileNumber]" required="required" maxlength="10"    class="vd_mobile_required form-control" maxlength="10" /></div></div>
                                    <div class="clearfix"></div>
                                    <div class="alert alert-danger col-sm-11">
                                        <i class="fa fa-info"></i>
                                        <b>Password  must be 6 to 12 characters in length and it should contain atleast one uppercase letter, one lowercase letter, one digit and a symbol.</b>
                                    </div>
                                    <div class="form-group col-sm-6"><div class="form-group">    <i style="color: #f56954;" class="fa fa-star-o"></i><label class="control-label required" for="letapplicationPasswordRecovery_password">New Password :</label><input type="password" id="letapplicationPasswordRecovery_password" name="letapplicationPasswordRecovery[password]" required="required"    class="vd_name_required form-control" /></div></div>
                                    <div class="form-group col-sm-6"><div class="form-group">    <i style="color: #f56954;" class="fa fa-star-o"></i><label class="control-label required" for="letapplicationPasswordRecovery_checkpassword">Confirm New Password :</label><input type="password" id="letapplicationPasswordRecovery_checkpassword" name="letapplicationPasswordRecovery[checkpassword]" required="required"    class="form-control" /></div></div>
                                                                       <div class="form-group col-sm-6"><div class="form-group">    <i style="color: #f56954;" class="fa fa-star-o"></i><label class="control-label required" for="letapplicationPasswordRecovery_captcha">Please enter characters shown in the picture</label>    <img id="captcha_59555f0ad428e" src="/letportal/generate-captcha/gcb_captcha" title="captcha" width="130" height="50" /><script type="text/javascript">
                function reload_captcha_59555f0ad428e() {
                    var img = document.getElementById('captcha_59555f0ad428e');
                    img.src = '/letportal/generate-captcha/gcb_captcha?n=' + (new Date()).getTime();
                }
            </script><img onclick="javascript:reload_captcha_59555f0ad428e();" src="/letportal/bundles/app/images/reload.png?v16" title="Renew Captcha" style="cursor: pointer;" /><br/><input type="text" id="letapplicationPasswordRecovery_captcha" name="letapplicationPasswordRecovery[captcha]" required="required"    class="form-control" /></div></div>
                                    <div class="clearfix"></div>
                                    <div class="box-footer">
                                        <button type="submit" id="letapplicationPasswordRecovery_submit" name="letapplicationPasswordRecovery[submit]"    class="btn btn-primary btn">Set new password</button>
                                        <button type="reset" id="letapplicationPasswordRecovery_reset" name="letapplicationPasswordRecovery[reset]"    class="btn btn-default btn">Reset</button>
                                    </div>
                                    <input type="hidden" id="letapplicationPasswordRecovery__token" name="letapplicationPasswordRecovery[_token]"    class="form-control" value="EX1qMjA4r7INi14UyWMMVNWeF8Sk2kR8l9fYASeuckE" /></form>
                            </div><!-- /.box-body -->
                        </div><!-- /.box -->
                    </div>
                </div>
            </div>
        </div>
    </div>

                    <hr style="padding:0;">
            <footer style="margin:1%;">
                <div class="row">
                    <div class="col-sm-12">
                        <p class="text-center">
                        </p>
                    </div>
                </div>
            </footer>
                <script type="text/javascript" src="/letportal/bundles/app/js/bootstrap.min.js?v16"></script>
        <script type="text/javascript" src="/letportal/bundles/app/js/jquery.ui.core.min.js?v16"  ></script>
        <script type="text/javascript" src="/letportal/bundles/app/js/jquery.ui.datepicker.min.js?v16"  ></script>
        <script type="text/javascript" src="/letportal/bundles/app/js/sjcl.js?v16"  ></script>
        <script type="text/javascript" src="/letportal/bundles/app/js/must.js?v16"  ></script>
        <script type="text/javascript" src="/letportal/bundles/app/js/jquery.validate.min.js?v16"  ></script>
        <script type="text/javascript" src="/letportal/bundles/app/js/additional-methods.min.js?v16"  ></script>
        <script type="text/javascript" >
            $('.carousel').carousel({
                interval: 5000 //changes the speed
            });
            var __webPath__ = '/letportal/bundles/?v16';
            $("[title]").tooltip();
            $(".nav a").on("click", function () {
                $(".nav").find(".active").removeClass("active");
                $(this).parent().addClass("active");
            });
        </script>
                    
    <script src="/letportal/bundles/app/js/sjcl.js?v16" type = "text/javascript" ></script>
    <script type="text/javascript">

        $(document).ready(function () {

            $("#letapplicationPasswordRecovery_dob").datepicker({
                "dateFormat": "dd/mm/yy",
                changeMonth: true,
                changeYear: true, maxDate: "-18Y"
            });

            $(".vd_date_required").keyup(function (e) {
                if (e.keyCode != 8) {
                    if ($(this).val().length == 2) {
                        $(this).val($(this).val() + "/");
                    } else if ($(this).val().length == 5) {
                        $(this).val($(this).val() + "/");
                    }
                } else {
                    var temp = $(this).val();
                    if ($(this).val().length == 5) {
                        $(this).val(temp.substring(0, 4));
                    } else if ($(this).val().length == 2) {
                        $(this).val(temp.substring(0, 1));
                    }
                }

            });
            $(".vd_date_required").keydown(function (e) {
                if (e.keyCode != 8) {
                    if ($(this).val().length == 2) {
                        $(this).val($(this).val() + "/");
                    } else if ($(this).val().length == 5) {
                        $(this).val($(this).val() + "/");
                    }
                } else {
                    var temp = $(this).val();
                    if ($(this).val().length == 5) {
                        $(this).val(temp.substring(0, 4));
                    } else if ($(this).val().length == 2) {
                        $(this).val(temp.substring(0, 1));
                    }
                }

            });


            $("img#error").hide();
            var thisForm = $("#letapplicationPasswordRecovery");
            thisForm.applyMust();
            thisForm.validate({
                rules: {
                    'letapplicationPasswordRecovery[password]': "required",
                    'letapplicationPasswordRecovery[checkpassword]': {
                        equalTo: "#letapplicationPasswordRecovery_password"
                    }
                }, messages: {
                    'letapplicationPasswordRecovery[password]': "Password venam",
                    'letapplicationPasswordRecovery[checkpassword]': {
                        required: "Confirm Password Venam",
                        equalTo: "Mismatch in first Password"
                    }
                }
            });


            $("#letapplicationPasswordRecovery_password").focus(function () {
                $("#letapplicationPasswordRecovery_password").siblings(".help-block").remove();
            });
            $("#letapplicationPasswordRecovery").submit(function () {

                if (passwordstrength($("#letapplicationPasswordRecovery_password"))) {
                    return false;
                }
                if (thisForm.valid()) {
                    hashPasswords();
                    return true;
                } else {
                    return false;
                }
            });
        });


        function passwordstrength(password) {
            var password = password.val();
            var regex = /^(?=.*\d)(?=.*\W)(?=.*[A-Z])(?=.*[a-z])(?!.*\s).{6,12}$/;

            if (!regex.test(password)) {
                $("#letapplicationPasswordRecovery_password").closest(".form-group").removeClass("has-success has-success").addClass("has-error");
                $("#letapplicationPasswordRecovery_password").closest("div").append('<span id="letapplicationPasswordRecovery_password-error" class="help-block"> Password  must be 6 to 12 characters in length and it should contain atleast one uppercase letter, one lowercase letter, one digit and a symbol. </span>');
                return true;
            }
            else {
                return false;
            }
        }
        function hashPasswords() {
            var pwd1 = $("#letapplicationPasswordRecovery_password");
            var pwd2 = $("#letapplicationPasswordRecovery_checkpassword");
            if (!(pwd1.val() === null || pwd2.val() === "")) {
                var baS1 = sjcl.hash.sha256.hash(pwd1.val());
                var digestS1 = sjcl.codec.hex.fromBits(baS1);
                var baS2 = sjcl.hash.sha256.hash(pwd2.val());
                var digestS2 = sjcl.codec.hex.fromBits(baS2);
                pwd1.val(digestS1);
                pwd2.val(digestS2);
            }
        }
    </script>


    </body>
</html>
